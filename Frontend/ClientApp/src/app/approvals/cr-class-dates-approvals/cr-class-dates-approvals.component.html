
<div>
  <mat-card>
    <style>
     .pagination-controls {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    margin-top: 10px;
    padding: 0 20px;
}

.pagination-controls button {
    margin: 0 5px;
    min-width: 36px;
    height: 36px;
    border-radius: 50%;
    border: none;
    background-color: #3f51b5;
    color: white;
    cursor: pointer;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    transition: background-color 0.3s ease;
}

.pagination-controls button:disabled {
    background-color: #e0e0e0;
    cursor: not-allowed;
    color: #9e9e9e;
}

.pagination-controls button:hover:not(:disabled) {
    background-color: #303f9f;
}

.pagination-controls span {
    margin: 0 10px;
    font-size: 14px;
    color: #757575;
}

.pagination-controls select {
    margin-left: 20px;
    padding: 5px;
    font-size: 14px;
    border-radius: 4px;
    border: 1px solid #ccc;
    background-color: white;
    color: #333;
}

    </style>
    <mat-card-content>
      <div fxLayoutAlign="space-around space-around" fxLayout="column">
        <mat-toolbar color="accent" class="mat-elevation-z8 slim slim">
          <mat-icon class="material-icons">view_comfy</mat-icon>
          <span class="spacer">Pending Approvals</span>
          <div class="spacer"></div>
          <!--<input type="text" placeholder="Search" (keyup)="applyFilter($event.target.value)" class="search" />-->
        </mat-toolbar>
        <!--<button (click)="OK()">click</button>-->

        <div class="text-center" *ngIf="!classes">
          <p>No Pending Approval</p>
        </div>
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Action</th>
                <!--<th>Class Code</th>-->
                <th>Class Code</th>
                <th>Start Date</th>
                <th>End Date</th>
                <th>Duration(Months)</th>
                <th></th>


              </tr>
            </thead>
            <tbody>
              <ng-container *ngFor="let r of classes">

                <tr>
                  <td>
                    <button mat-raised-button color="primary" type="button" mat-button (click)="openApprovalDialogue(r)">
                      Decision
                    </button>
                    <span class="p-4 text-dark" *ngIf="r.IsApproved">Approved</span>
                    <a color="primary" matTooltip="Check current Class Dates" *ngIf="!r.IsApproved"
                       mat-icon-button (click)="GetCurrentClassDatesByID(r)">
                      <mat-icon>{{r.currentClassDates ?'remove_circle':'control_point' }}</mat-icon>
                    </a>
                  </td>
                  <td class="myAnchor" > <a style="color: #005b9e;" (click)="openClassJourneyDialogue(r.ClassID)"> <strong>{{r.ClassCode}}</strong> </a></td>
                  <td>{{r.StartDate | date:environment.DateFormat}}</td>
                  <td>{{r.EndDate | date:environment.DateFormat}}</td>
                  <td>{{r.Duration}}</td>
                  <td style="color:orangered">Requested</td>


                </tr>
                <tr *ngIf="r.currentClassDates">
                  <td colspan="6">
                    <div class="table-responsive">
                      <table class="table table-bordered">
                        <thead>
                          <tr>

                            <th>Class Code</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                            <th>Duration(Months)</th>
                            <th>

                            </th>

                          </tr>
                        </thead>
                        <tbody>
                          <tr *ngFor="let l of r.currentClassDates">
                            <td class="myAnchor"> <a style="color: #005b9e;" (click)="openClassJourneyDialogue(l.ClassID)"> <strong>{{l.ClassCode}}</strong> </a></td>
                            <td>{{l.StartDate | date:environment.DateFormat}}</td>
                            <td>{{l.EndDate | date:environment.DateFormat}}</td>
                            <td>{{l.Duration}}</td>
                            <td style="color:green">Existing</td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </td>
                </tr>
              </ng-container>

            </tbody>
          </table>
          <div class="pagination-controls">
            <button mat-button (click)="prevPage()" [disabled]="currentPage === 1">Previous</button>
            <span>Page {{currentPage}} of {{totalPages}}</span>
            <button mat-button (click)="nextPage()" [disabled]="currentPage === totalPages">Next</button>
        </div>
    
        <div>
            <label for="rowsPerPage">Rows per page:</label>
            <select id="rowsPerPage" (change)="changeRowsPerPage($event.target.value)">
                <option value=5>5</option>
                <option value=10>10</option>
                <option value=15>15</option>
                <option value=20>20</option>
            </select>
        </div>
        </div>
        <!--</mat-step>-->


      </div>
    </mat-card-content>
  </mat-card>
</div>

